# KoroMind Vault Configuration
# =============================
#
# This file configures user-specific settings for KoroMind.
# Core settings (model, cwd, etc.) are provided via environment variables.
#
# Place this file at: {KOROMIND_DATA_DIR}/vault-config.yaml
# Default location: ~/.koromind/vault-config.yaml
#
# Path Resolution:
# - Relative paths (starting with ./ or no /) are relative to vault root
# - Absolute paths are used as-is
# - ~ is expanded to home directory

# =============================================================================
# MCP Servers
# =============================================================================
# Model Context Protocol servers to enable.
# Each server provides additional tools to the agent.
mcp_servers:
  # SQLite database access
  # sqlite:
  #   command: "uvx"
  #   args: ["mcp-server-sqlite", "--db-path", "./data.db"]

  # Filesystem access (already provided by default)
  # filesystem:
  #   command: "npx"
  #   args: ["-y", "@anthropic/mcp-filesystem", "."]

  # GitHub integration
  # github:
  #   command: "npx"
  #   args: ["-y", "@anthropic/mcp-github"]
  #   env:
  #     GITHUB_TOKEN: "${GITHUB_TOKEN}"

# =============================================================================
# Subagents
# =============================================================================
# Custom agents that can be invoked during conversations.
agents:
  # Example: Research assistant
  # researcher:
  #   model: "claude-sonnet-4-20250514"
  #   system_prompt: "You are a research assistant. Focus on gathering accurate information."
  #   allowed_tools: ["WebSearch", "WebFetch", "Read"]

  # Example: Code reviewer
  # reviewer:
  #   model: "claude-sonnet-4-20250514"
  #   system_prompt: "You are a code reviewer. Look for bugs, security issues, and improvements."
  #   allowed_tools: ["Read", "Grep", "Glob"]

# =============================================================================
# Hooks
# =============================================================================
# Commands that run before or after tool executions.
#
# Events: PreToolUse, PostToolUse, SessionStart, SessionEnd
hooks:
  # Example: Validate bash commands before execution
  # PreToolUse:
  #   - matcher: "Bash"
  #     hooks:
  #       - type: command
  #         command: "./hooks/validate-bash.sh"

  # Example: Format code after editing
  # PostToolUse:
  #   - matcher: "Write|Edit"
  #     hooks:
  #       - type: command
  #         command: "./hooks/format-code.sh"

# =============================================================================
# Sandbox Settings
# =============================================================================
# Controls bash command isolation for security.
sandbox:
  # Enable sandboxing (macOS/Linux only)
  enabled: false

  # Auto-approve bash when sandboxed
  auto_allow_bash_if_sandboxed: true

  # Commands that are allowed to bypass sandbox restrictions
  white_listed_commands:
    - "git"
    - "docker"

# =============================================================================
# Plugins
# =============================================================================
# SDK plugins to load.
# plugins: []
